@{
    ViewData["Title"] = "Home Page";
}
@model MyFirstMVC.Models.SelfDetails;
@using MyFirstMVC.Models;


<div class="text-center">
    @*@Html.DropDownListFor(x => x.gender,
        new SelectList(Enum.GetValues(typeof(Gender))),
        "select gender")
        @Html.Partial("_myPartial")*@

    @*@Html.DropDownListFor(x => x.DomainAreas, Model.DomainAreas, "select domain areas")
        @{
            var x = TempData.Peek("Date");
        }
        <h2>@x</h2>*@
    @Html.CheckBoxFor(x => x.IsMale, new { @checked = true, @class ="CheckboxClass", @value="Male"})
    @*@Html.CheckBoxFor(x => Convert.ToBoolean(x.HighPriorityReason), new { @checked = "true", @class= "CheckboxClass" });*@
</div>
@section Scripts{
    <script src="https://code.jquery.com/jquery-3.5.1.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
    <script type="text/javascript">
        $(function () {
            $.ajax({
                type: "POST",
                url: "Test/BindPersonValues",
                contentType: "application/json; charset=UTF-8",
                dataType: "json",
                success:
                    function onsuccess(data) {                        
                        console.log(data);
                        $('#prsntbl').DataTable({
                            "bLengthChange": true,
                            "lengthMenu": [[5, 10, -1], [5, 10, "All"]],
                            "bFilter": true,
                            "bSort": true,
                            "bPaginate": true,
                            "data": data,
                            "language": {
                                "emptyTable": "No record found.",
                                "processing":
                                    '<i class="fa fa-spinner fa-spin fa-3x fa-fw" style="color:#2a2b2b;"></i><span class="sr-only">Loading...</span> '
                            },
                            "columns": [{ 'data': 'FirstName' },
                            { 'data': 'MiddleName' },
                            { 'data': 'LastName' },
                            { 'data': 'PhNum' },
                            { 'data': 'Address' },
                            { 'data': 'State' },
                            { 'data': 'PostalCode' },
                            { 'data': 'Country' },
                            { 'data': 'EmailAddress' }]
                        });
                        //alert(response);
                    },
                failure: function (response) {
                    alert(response.d + "Failure");
                },
                error: function (response) {
                    alert(response.d + "error");
                }
            });
        });
    </script>
}
<div class="row">
    <div class="col-sm-9">
        <table class="table table-bordered table-striped" id="prsntbl">
            <thead>
                <tr>
                    <th>
                        FirstName
                    </th>
                    <th>
                        MiddleName
                    </th>
                    <th>
                        LastName
                    </th>
                    <th>
                        PhNum
                    </th>
                    <th>
                        Address
                    </th>
                    <th>
                        State
                    </th>
                    <th>
                        PostalCode
                    </th>
                    <th>
                        Country
                    </th>
                    <th>
                        EmailAddress
                    </th>
                </tr>
            </thead>
        </table>
    </div>
</div>